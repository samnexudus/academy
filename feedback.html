<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Course Feedback</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <h1>Course Feedback</h1>
  <p>Was this course helpful?</p>
  <button class="good" id="good">Good</button>
  <button class="bad" id="bad">Bad</button>
  <p id="response"></p>

  <script>
    const airtableBaseId = "appdInia1qyUjAidC"; 
    const airtableAccessToken = "patBZxhjgsquYzhaO.c2d270203a820101383cf2721d53e40b99d7fb7a98c1242f94589075c8d2e305"; 
    const tableName = "Academy Feedback";

    function sendToAirtable(feedback) {
      const url = `https://api.airtable.com/v0/${airtableBaseId}/${encodeURIComponent(tableName)}`;
      const data = { 
        records: [{ 
          fields: { 
            Feedback: feedback, 
            Timestamp: new Date().toISOString() 
          } 
        }] 
      };

      fetch(url, {
        method: "POST",
        headers: { 
          "Content-Type": "application/json", 
          Authorization: `Bearer ${airtableAccessToken}` 
        },
        body: JSON.stringify(data),
      })
      .then(response => response.ok ? 
        document.getElementById("response").textContent = "Feedback sent!" : 
        document.getElementById("response").textContent = "Error sending feedback."
      )
      .catch(error => document.getElementById("response").textContent = "Error sending feedback.");
    }

    document.getElementById("good").addEventListener("click", () => sendToAirtable("Good"));
    document.getElementById("bad").addEventListener("click", () => sendToAirtable("Bad"));
  </script>

</body>
</html>
